
<fieldset ng-init="init()">
	<div class="row landContainer" ng-if="landAvailable == false"
		style="color: red;">所有场地都被禁用</div>

	<div class="row landContainer" ng-if="landAvailable">
		<a ng-repeat="land in landList"
			ng-class="($index == 0) ? 'landAClick':'landAinit'"
			ng-if="land.landState!='禁用'"
			ng-click="getLandDailyState(land,$event)"
			style="margin-bottom: 10px;">{{land.landName}}</a>
	</div>
	<table class="table table-bordered" style="margin-bottom: 0px;">
		<caption>
			<span style="color: red; font-size: 17px;">{{landAvailable?currentLand.landName:"用地"}}</span>占用情况
		</caption>
		<thead>
			<tr>
				<th>日期</th>
				<th>上午</th>
				<th>下午</th>
				<th>晚上</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-if="sysConfigList.length == 0 || landAvailable == false">
				<td colspan="4"
					style="text-align: center; height: 100px; line-height: 100px">暂无相关信息</td>
			</tr>
			<tr ng-if="landAvailable"
				ng-repeat="landDailyState in landDailyStates">
				<td>{{landDailyState.date|date:'yyyy年MM月dd号'}}</td>
				<td><span>{{landDailyState.amState}}&nbsp;&nbsp;&nbsp;&nbsp;<a
						class="no_decoratin" ng-if="landDailyState.amState=='可用'"
						ng-click="newapplycation(currentLand,landDailyState.date,'上午')">(申请锁定)</a></span></td>
				<td><span>{{landDailyState.pmState}}&nbsp;&nbsp;&nbsp;&nbsp;<a
						class="no_decoratin" ng-if="landDailyState.pmState=='可用'"
						ng-click="newapplycation(currentLand,landDailyState.date,'中午')">(申请锁定)</a></span></td>
				<td><span>{{landDailyState.nightState}}&nbsp;&nbsp;&nbsp;&nbsp;<a
						class="no_decoratin" ng-if="landDailyState.nightState=='可用'"
						ng-click="newapplycation(currentLand,landDailyState.date,'晚上')">(申请锁定)</a></span></td>
			</tr>
		</tbody>
	</table>
</fieldset>

<script type="text/ng-template" id="newapplycation.html">
	<div class="modal-header" style="background: #575b5a;color: white;border-top-left-radius: 6px;border-top-right-radius: 6px;">
		<h4 class="modal-title">确定锁定所选场地？</h4>
	</div>
	<div class="modal-body">
        <div class="row">
			<form class="form-horizontal" role="form" ng-init="init()" style="border:1px solid #e5e5e5">
				<fieldset >
					<!--<legend class="legend" data-toggle="collapse" href="#baseInfo"
						style="cursor: pointer">
						<span style="padding-left: 15px; font-size: 14px;">基础信息</span>
					</legend> -->
					<div id="baseInfo" class="row collapse in">
						<div class="form-group col-md-6">
							<label class="col-md-5 control-label">申请场地</label>
							<div class="col-md-7 value-display" style="padding-top: 7px;">
								<span>{{lockingRecord.land.landName}}</span>
							</div>
						</div>
						<div class="form-group col-md-6">
							<label class="col-md-5 control-label">使用日期</label>
							<div class="col-md-7 value-display" style="padding-top: 7px;">
								<span>{{lockingRecord.lockDate|date:'yyyy年MM月dd号'}}</span>
							</div>
						</div>
						<div class="form-group col-md-6">
							<label class="col-md-5 control-label">申请时间段</label>
							<div class="col-md-7 value-display" style="padding-top: 7px;">
								<span>{{lockingRecord.timeQuantum}}</span>
							</div>
						</div>
					</div>
				</fieldset>
			</form>
        </div>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" type="button" ng-click="saveLockingRecord()">确定</button>
		<button class="btn btn-warning" type="button" ng-click="cancel()">取消</button>
	</div>
</script>
